{% extends "base.html" %}

{% block content %}
<section class="analysis">
    <h1>Wardrobe Analysis</h1>

    <div class="analysis-card">
        <h2 class="head">Total Items</h2>
        <p class="value">{{ total_item_value }}</p>
        <p class="subtitle">Items in your wardrobe</p>
    </div>

    <div class="analysis-card">
        <h2 class="head">Outfits Created</h2>
        <p class="value">{{ outfits_created_value }}</p>
        <p class="subtitle">Saved outfit combinations</p>
    </div>

    <h2 class="section-title">Most Used Item</h2>
    <div class="most-used-item-block">
        <img src="{{ item_image_url }}" alt="Most used item" class="most-used-item-image">
        <div class="most-used-item-info">
            <h3>{{ item_name | default('No item yet') }}</h3>
            <p>Used in {{ number_of_mixed_outfits | default(0) }} outfits</p>
        </div>
    </div>

    <h2 class="section-title">Style Analysis</h2>
    <div class="chart-slideshow-container">
    <div class="chart-slide">
        <canvas id="category-chart" width="600" height="450"></canvas>
    </div>
    <div class="chart-slide" style="display: none;">
        <canvas id="season-chart" width="600" height="450"></canvas>
    </div>
    <div class="chart-slide" style="display: none;">
        <canvas id="color-chart" style="max-width: 80%; max-height: 500;"></canvas>
    </div>

    <div style="text-align: center; margin-top: 1rem;">
        <button onclick="prevSlide()">⟨ Prev</button>
        <button onclick="nextSlide()">Next ⟩</button>
    </div>
    </div>
</section>
{% endblock %}
